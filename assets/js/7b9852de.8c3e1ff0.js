"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4875],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),l=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},f="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),f=l(a),u=n,m=f["".concat(c,".").concat(u)]||f[u]||d[u]||o;return a?r.createElement(m,s(s({ref:t},p),{},{components:a})):r.createElement(m,s({ref:t},p))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=u;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[f]="string"==typeof e?e:n,s[1]=i;for(var l=2;l<o;l++)s[l]=a[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2053:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=a(7462),n=(a(7294),a(3905));const o={},s="Apache Kafka",i={unversionedId:"reference/sources/system/kafka",id:"reference/sources/system/kafka",title:"Apache Kafka",description:"DataSQRL supports Apache Kafka as a data source and data sink to ingest or export data stream.",source:"@site/docs/reference/sources/system/kafka.md",sourceDirName:"reference/sources/system",slug:"/reference/sources/system/kafka",permalink:"/docs/reference/sources/system/kafka",draft:!1,editUrl:"https://github.com/DataSQRL/datasqrl.github.io/edit/main/docs/docs/reference/sources/system/kafka.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"File System",permalink:"/docs/reference/sources/system/file"},next:{title:"Print",permalink:"/docs/reference/sources/system/print"}},c={},l=[{value:"Kafka Connector",id:"kafka-connector",level:2},{value:"Data Format",id:"format",level:3},{value:"Data Discovery",id:"data-discovery",level:2},{value:"Data Sink",id:"data-sink",level:2}],p={toc:l},f="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(f,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"apache-kafka"},"Apache Kafka"),(0,n.kt)("p",null,"DataSQRL supports ",(0,n.kt)("a",{parentName:"p",href:"https://kafka.apache.org/"},"Apache Kafka")," as a data source and data sink to ingest or export data stream. "),(0,n.kt)("h2",{id:"kafka-connector"},"Kafka Connector"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="datasystem.json"',title:'"datasystem.json"'},'{\n  "type": "source",\n  "connector": {\n    "systemType": "kafka",\n    "servers": ["111.0.0.100"],\n  }\n}\n')),(0,n.kt)("p",null,"The Kafka connector has the following configuration options:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"servers"),(0,n.kt)("td",{parentName:"tr",align:null},"List of server IPs for Kafka instances to connect to"),(0,n.kt)("td",{parentName:"tr",align:null},"Yes")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"topicPrefix"),(0,n.kt)("td",{parentName:"tr",align:null},"Limits data discovery to topic with the given prefix"),(0,n.kt)("td",{parentName:"tr",align:null},"No")))),(0,n.kt)("h3",{id:"format"},"Data Format"),(0,n.kt)("p",null,"The Kafka connector supports all streaming ",(0,n.kt)("a",{parentName:"p",href:"/docs/category/data-format"},"data formats"),"."),(0,n.kt)("p",null,"The Kafka connector supports automatic data format discovery based on the topic name extension. For example, a topic name that ends in ",(0,n.kt)("inlineCode",{parentName:"p"},".json")," is assumed to have the ",(0,n.kt)("a",{parentName:"p",href:"../format/json"},"JSON data format"),". Unless your Kafka topics use this particular naming convention, you have to configure a data format in the data system configuration."),(0,n.kt)("h2",{id:"data-discovery"},"Data Discovery"),(0,n.kt)("p",null,"Data discovery retrieve all topics in the Apache Kafka cluster. If a ",(0,n.kt)("inlineCode",{parentName:"p"},"topicPrefix")," is configured, it filters out all topics that don't match the prefix. Data discovery maps each topic to a table source or sink.\nIf the topic name has an extension that matches a ",(0,n.kt)("a",{parentName:"p",href:"#format"},"data format"),", data discovery configures that data format for the table. The data format configured in the data system configuration takes precedent. The table name is the name of the topic (without extension)."),(0,n.kt)("p",null,"Data discovery reads part of the data stream for each topic to determine the schema of the table, unless a schema is configured."),(0,n.kt)("h2",{id:"data-sink"},"Data Sink"),(0,n.kt)("p",null,"Kafka can be configured as a data sink by setting the ",(0,n.kt)("inlineCode",{parentName:"p"},"type")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"sink")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"source_and_sink"),". ",(0,n.kt)("inlineCode",{parentName:"p"},"format")," is a required field when using the Kafka as a sink. The exported stream table published to the topic with the name of the table sink."))}d.isMDXComponent=!0}}]);