"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9626],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>g});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(r),d=n,g=u["".concat(p,".").concat(d)]||u[d]||h[d]||o;return r?a.createElement(g,l(l({ref:t},c),{},{components:r})):a.createElement(g,l({ref:t},c))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,l=new Array(o);l[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:n,l[1]=i;for(var s=2;s<o;s++)l[s]=r[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1769:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var a=r(7462),n=(r(7294),r(3905));const o={title:"Query"},l="Query GraphQL APIs",i={unversionedId:"reference/api/graphql/query",id:"reference/api/graphql/query",title:"Query",description:"This page is work-in-progress as we add additional languages.",source:"@site/docs/reference/api/graphql/query.md",sourceDirName:"reference/api/graphql",slug:"/reference/api/graphql/query",permalink:"/docs/reference/api/graphql/query",draft:!1,editUrl:"https://github.com/DataSQRL/datasqrl.github.io/edit/main/docs/reference/api/graphql/query.md",tags:[],version:"current",frontMatter:{title:"Query"},sidebar:"docs",previous:{title:"Design",permalink:"/docs/reference/api/graphql/design"},next:{title:"Design",permalink:"/docs/reference/api/graphql/design"}},p={},s=[{value:"GraphQL Playground",id:"graphql-playground",level:2},{value:"JavaScript",id:"javascript",level:2},{value:"Apollo Client",id:"apollo-client",level:3},{value:"Apollo Client React",id:"apollo-client-react",level:3},{value:"Java",id:"java",level:2},{value:"Spring Boot",id:"spring-boot",level:3}],c={toc:s},u="wrapper";function h(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"query-graphql-apis"},"Query GraphQL APIs"),(0,n.kt)("admonition",{type:"danger"},(0,n.kt)("p",{parentName:"admonition"},"This page is work-in-progress as we add additional languages. ")),(0,n.kt)("p",null,"GraphQL is a query language for APIs. DataSQRL exposes GraphQL APIs that can be queried from any programming language or application. This page provides examples for querying GraphQL APIs in various languages to help you get started. It is neither complete nor comprehensive. For a complete resource on GraphQL visit ",(0,n.kt)("a",{parentName:"p",href:"https://graphql.org"},"graphql.org"),". This page is only meant to get you started."),(0,n.kt)("p",null,"If you are unfamiliar with GraphQL, we recommend that you ",(0,n.kt)("a",{parentName:"p",href:"https://graphql.org/learn/"},"learn about GraphQL")," before proceeding."),(0,n.kt)("p",null,"For the example code snippets below, we are following the ",(0,n.kt)("a",{parentName:"p",href:"/docs/getting-started/intro/overview"},"DataSQRL tutorial")," and assume you are ",(0,n.kt)("a",{parentName:"p",href:"/docs/getting-started/intro/overview#run"},"running")," the Quickstart SQRL script on your local machine. To connect to a different server or use a different example, you need to change the server URI and query examples."),(0,n.kt)("h2",{id:"graphql-playground"},"GraphQL Playground"),(0,n.kt)("p",null,"DataSQRL includes ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/graphql/graphiql"},"GraphiQL")," which allows you to create, execute, and profile queries as well as inspect the GraphQL API directly in your browser."),(0,n.kt)("p",null,"After you ",(0,n.kt)("a",{parentName:"p",href:"../../../operations/command#run"},"run")," your SQRL script on your machine, open the URL ",(0,n.kt)("a",{parentName:"p",href:"http://localhost:8888//graphiql/"},(0,n.kt)("inlineCode",{parentName:"a"},"http://localhost:8888//graphiql/"))," in a browser to access GraphiQL."),(0,n.kt)("p",null,"Now, you can paste GraphQL queries into the left-hand panel and hit the play button ",(0,n.kt)("inlineCode",{parentName:"p"},"\u25b8")," in the middle to see the result in the right-hand panel."),(0,n.kt)("p",null,'GraphiQL shows you the GraphQL schema of the API by opening the "Documentation" tab. You can inspect the schema to validate that DataSQRL generated your data API correctly.'),(0,n.kt)("p",null,"GraphiQL also allows you to specify arguments for variables in your queries and set headers. It's a user-friendly IDE for designing GraphQL queries."),(0,n.kt)("h2",{id:"javascript"},"JavaScript"),(0,n.kt)("h3",{id:"apollo-client"},"Apollo Client"),(0,n.kt)("p",null,"Import and configure the ",(0,n.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/react/"},"Apollo GraphQL client")," as follows.\nIf you don't have the client installed, run ",(0,n.kt)("inlineCode",{parentName:"p"},"npm install @apollo/client graphql")," first."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="index.js"',title:'"index.js"'},'import {ApolloClient, gql, InMemoryCache} from "@apollo/client";\n\nconst client = new ApolloClient({\n    uri: "http://localhost:8888//graphql",\n    cache: new InMemoryCache(),\n});\n')),(0,n.kt)("p",null,"Now, you can execute GraphQL queries as follows:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"const CUSTOMER_SPENDING = gql`\n  query CustomerSpending($customerid: Int!) {\n    Customers(id: $customerid) {  \n        spending {\n            month\n            spend\n            saved\n        }\n    }\n  }\n`;\n\nconst customerid = 10;\n\nclient\n  .query({\n    query: CUSTOMER_SPENDING,\n    variables: { customerid },\n  })\n  .then(result => console.log(result));\n")),(0,n.kt)("h3",{id:"apollo-client-react"},"Apollo Client React"),(0,n.kt)("p",null,"additional clients coming soon"),(0,n.kt)("h2",{id:"java"},"Java"),(0,n.kt)("h3",{id:"spring-boot"},"Spring Boot"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/70519410/how-to-invoke-graphql-api-from-a-java-spring-boot-application-is-there-any-anno"},"https://stackoverflow.com/questions/70519410/how-to-invoke-graphql-api-from-a-java-spring-boot-application-is-there-any-anno")))}h.isMDXComponent=!0}}]);