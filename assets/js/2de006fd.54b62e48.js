"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7786],{5680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>h});var a=r(6540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),l=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=l(r),y=n,h=d["".concat(s,".").concat(y)]||d[y]||u[y]||i;return r?a.createElement(h,o(o({ref:t},p),{},{components:r})):a.createElement(h,o({ref:t},p))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=y;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[d]="string"==typeof e?e:n,o[1]=c;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}y.displayName="MDXCreateElement"},8896:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var a=r(8168),n=(r(6540),r(5680));const i={},o="Data API",c={unversionedId:"reference/api/overview",id:"reference/api/overview",title:"Data API",description:"DataSQRL compiles a data API that exposes the data processed by your SQRL script.",source:"@site/docs/reference/api/overview.md",sourceDirName:"reference/api",slug:"/reference/api/overview",permalink:"/docs/reference/api/overview",draft:!1,editUrl:"https://github.com/DataSQRL/datasqrl.github.io/edit/main/docs/reference/api/overview.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"SQL Primer",permalink:"/docs/reference/sqrl/sql-primer"},next:{title:"Design",permalink:"/docs/reference/api/graphql/design"}},s={},l=[{value:"Access Data API",id:"query",level:2},{value:"Design Data API",id:"design",level:2},{value:"API Security and Authorization",id:"api-security-and-authorization",level:2}],p={toc:l},d="wrapper";function u(e){let{components:t,...r}=e;return(0,n.yg)(d,(0,a.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"data-api"},"Data API"),(0,n.yg)("p",null,"DataSQRL compiles a data API that exposes the data processed by your ",(0,n.yg)("a",{parentName:"p",href:"../../sqrl/overview"},"SQRL")," script."),(0,n.yg)("p",null,"Currently, DataSQRL can compile GraphQL APIs with REST and gRPC on the ",(0,n.yg)("a",{parentName:"p",href:"/docs/dev/roadmap"},"roadmap"),"."),(0,n.yg)("h2",{id:"query"},"Access Data API"),(0,n.yg)("p",null,"DataSQRL compiles standard-compliant data APIs that can be accessed from any programming language or application. To learn more about accessing and querying the data API, click on the API type below:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"../graphql/query"},(0,n.yg)("strong",{parentName:"a"},"GraphQL")))),(0,n.yg)("h2",{id:"design"},"Design Data API"),(0,n.yg)("p",null,"DataSQRL compiles data APIs according to the provided API specification. If no API specification is provided, DataSQRL generates it based on the tables, fields, and relationships defined in the SQRL script."),(0,n.yg)("p",null,"We recommend that you start with the API specification generated by DataSQRL and then customize it to your needs. Once your SQRL script is ready to be exposed as an API, run the DataSQRL compiler to generate the API specification:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"docker run --rm -v $PWD:/build datasqrl/cmd compile myscript.sqrl -a graphql\n")),(0,n.yg)("p",null,"The command compiles your script and the ",(0,n.yg)("inlineCode",{parentName:"p"},"-a")," option writes the generated API specification to the directory in which you executed the command. In this example, we instruct the compiler to generate the specification for a GraphQL API which is defined by a GraphQL schema. The generated GraphQL schema is written to the file ",(0,n.yg)("inlineCode",{parentName:"p"},"schema.graphqls")," in the local directory. "),(0,n.yg)("p",null,"DataSQRL generates API specifications that expose all visible tables, fields, and relationships defined in the SQRL script as well as filters for most fields. That's likely too generic and permissive for your needs."),(0,n.yg)("p",null,"To customize the API specification, read about API design for:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"../graphql/design"},(0,n.yg)("strong",{parentName:"a"},"GraphQL Schema")))),(0,n.yg)("p",null,"When you have finished designing the API, use the resulting API specification file as the second argument after the SQRL script when compiling your SQRL project:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"docker run --rm -v $PWD:/build datasqrl/cmd compile myscript.sqrl schema.graphqls\n")),(0,n.yg)("h2",{id:"api-security-and-authorization"},"API Security and Authorization"),(0,n.yg)("p",null,"You can use any authentication layer with the compiled data API."),(0,n.yg)("p",null,"JWT-based authorization is on the roadmap."))}u.isMDXComponent=!0}}]);